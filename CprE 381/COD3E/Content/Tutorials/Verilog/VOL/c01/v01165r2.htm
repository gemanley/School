<html>

	<meta http-equiv="content-type" content="text/html;charset=iso-8859-1">

	<body bgcolor="#FFFFFF">
		<font size="3" face="Times"><font size="3" face="courier"><b>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;wire [msb:lsb] bus;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;reg [width-1:0] bus_driver;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;assign #delay bus = (bus_driver == maxval) ? 8'h0 : bus_driver;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;always @(posedge clock)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;case (state)<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state1: newstate = state + bus;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state2: newstate = state3;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state3: newstate = state - bus;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;state4: newstate = state1;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;endcase<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;...<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;real load_factor;<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;initial<br>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;load_factor = $itor(packets)/($time-lasttime) * r; </b></font></b></font>
	</body>

</html>